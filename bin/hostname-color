#!/usr/bin/env bash

### Print host specific color

# Specify command for calculating MD5
if type md5 &>/dev/null; then
    md5bin=md5
elif type md5sum &>/dev/null; then
    md5bin=md5sum
else
    echo "md5 or md5sum not found" >&2
    exit 1
fi

# Convert hostname to number (0 - 255)
hostname_hash=$(hostname | $md5bin | cut -c1-2)
hostname_hash_number=$(printf '%d' "0x$hostname_hash")

# Valid color range: 25 - 231
valid_color=$(( hostname_hash_number % ( 232 - 25 ) + 25 ))

echo -n $valid_color
