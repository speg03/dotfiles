#!/bin/bash

function check_packages_installed() {
    if ! type git &>/dev/null; then
        echo "!!! You need to install git"
        exit 1
    fi
}

function install_configurations() {
    # dotemacs repository
    local dotemacs=$HOME/.ghq/github.com/speg03/dotemacs
    if [ ! -e $dotemacs ]; then
        echo "### Downloading dotemacs ..."
        git clone https://github.com/speg03/dotemacs $dotemacs
        echo
    fi
    cd $dotemacs

    # symlinks
    echo "### Creating links to dotemacs ..."
    ln -snf $(pwd) $HOME/.emacs.d
}

function main() {
    check_packages_installed
    install_configurations
}

main
